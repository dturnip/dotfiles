"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[713],{67220:(e,n,t)=>{t.r(n),t.d(n,{Show:()=>ze,default:()=>Le});var i=t(67294),a=t.n(i),l=t(82772),r=t(61202),o=t(20657),d=t(94233),s=t(14535),m=t(56802),c=t(4236),u=t(1663),k=t(20238),v=t(76343),p=t(59713),y=t.n(p),S=t(42922),g=t(65858),N=t(15212),E=t(7073),f=t(21127),b=t(84788),F=t(87257),h=t(57978),C=t(75016),P=t(72917),w=t(69518),I=t.n(w),D=t(62975),A=t(18261),O=t(25988),M=t(38894),R=t(37630),x=t(95661),T=t(20246),U=t(95806),z=t(30247),j=t(52759),L=t(84629);const _=a().memo((({index:e,uid:n,show:t,episode:l,usePlayContextItem:r})=>{var d,s,c,u,k,v,p,y,w;const _=null===(d=(0,g.oR)().getState().platform)||void 0===d?void 0:d.isBrowser,Z=1e3*l.playedState.playPosition,W=l.uri,$=(0,i.useRef)(null),[B,V]=(0,i.useState)(l.playedState.state===E.sY.Completed),G=(0,N.O1)(),X=(0,M.g)(),Y=(0,R.jh)(),H=(0,m.o)(),q=(0,g.I0)(),{isActive:Q,isPlaying:K,togglePlay:J}=r({uri:W}),[ee]=(0,j.z)(1e4,(e=>{var n;return(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===W}));(0,i.useEffect)((()=>{K&&($.current=ee)}),[K,ee]),(0,i.useEffect)((()=>{!K&&$.current&&l.duration.totalMilliseconds<=$.current&&V(!0)}),[K,l.duration.totalMilliseconds]);const ne=(0,i.useCallback)((e=>{e||($.current=0),V(e)}),[]),te=(0,z.s)(l,t),ie=(0,i.useCallback)((()=>{l.type===E.Wf.Episode&&_?D.y.set((()=>({triggerId:`activation-trigger-mme${l.uri}`,triggerAction:null}))):X?te():(H({targetUri:W,intent:K?"pause":"play",type:"click"}),J())}),[te,H,J,W,K,X,l,_]),ae=(0,i.useCallback)((()=>{H({type:"click",targetUri:W,intent:"navigate"})}),[W,H]),le=null!==(s=null===(c=l.podcastSubscription)||void 0===c?void 0:c.isPaywalled)&&void 0!==s&&s,re=null!==(u=null===(k=l.podcastSubscription)||void 0===k?void 0:k.isUserSubscribed)&&void 0!==u&&u,oe=le&&!re,de=le&&X,{badges:se}=(0,b.r)({contentRating:null===(v=l.contentRating)||void 0===v?void 0:v.label,isPaywalled:le}),me=(0,i.useCallback)((()=>q((0,L.RM)(t.uri))),[t.uri,q]),ce=(0,i.useCallback)((e=>{let n=e;return(oe||de)&&(n=a().createElement(U.l,{enabled:!0,showUri:t.uri},n)),!l.playability.playable&&se.nineteen&&(n=a().createElement("div",{onClick:e=>{e.stopPropagation(),me()}},e)),n=a().createElement(P.c,{id:`activation-trigger-mme-${W}`,targetURI:I().from(W)},n),n}),[W,oe,de,t.uri,se.nineteen,l.playability.playable,me]);return a().createElement(S.ZP,{value:"row",index:e},a().createElement(A._,{menu:a().createElement(O.k,{uri:W,showUri:t.uri,sharingInfo:l.sharingInfo,isPlayed:B,onMarkAsPlayed:ne})},a().createElement(f.X,{index:e,uri:W,uid:n,size:Y,images:(null===(p=l.coverArt)||void 0===p?void 0:p.sources)||[],name:l.name,showName:t.name,description:l.description,isPlayable:l.playability.playable||oe,fullyPlayed:B,durationMs:l.duration.totalMilliseconds,releaseDate:(null===(y=l.releaseDate)||void 0===y?void 0:y.isoString)||"",resumePositionMs:null!==(w=$.current)&&void 0!==w?w:Z,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const n=`${l.name} Â· ${t.name}`;G(e,[W],n,t.uri)},handlePlaybackClick:ie,handleClick:ae,isCurrentlyPlaying:Q,isPaywalled:le,isUserSubscribed:re,isPlaying:K,position:K?ee:void 0,episodeSharingInfo:l.sharingInfo,onMarkAsPlayed:ne,badges:a().createElement(a().Fragment,null,se.explicit&&a().createElement(F.N,null),se.paid&&a().createElement(C.g,null),se.nineteen&&a().createElement(h.X,{size:16})),playButtonWrapper:ce,topActionButtons:a().createElement(T.y,{menu:a().createElement(O.k,{uri:W,showUri:t.uri,sharingInfo:l.sharingInfo,isPlayed:B,onMarkAsPlayed:ne})},a().createElement(x.z,{size:x.q.sm,label:o.ag.get("more.label.context",l.name)}))})))}));var Z=t(57369),W=t(33241);const $="Y_WW1akjiQKXSzCBalCD",B="NuwyWYpV2HzQDzNBFiaU";var V=t(63435);function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){y()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Y=a().memo((({show:e,usePlayContextItem:n})=>{const t=(0,Z.ZM)(e.uri),[l,r]=(0,i.useState)(V.d),o=(0,i.useRef)(!1),d=(0,i.useRef)(0),{ref:s,breakpoint:m}=(0,R.Db)({[R.Uo.MEDIUM]:0,[R.Uo.LARGE]:600}),c=(0,i.useCallback)(((e=!1)=>{if(!t)return;const n=d.current;null!==n&&(o.current||(o.current=!0,t(n,50).then((t=>{r((i=>{const a=e?[]:[...i.items];return a.splice(n,t.items.length,...t.items),d.current=t.pagingInfo.nextOffset,X(X({},t),{},{items:a})})),o.current=!1}))))}),[t]);return(0,i.useEffect)((()=>{r(V.d)}),[e.uri]),(0,i.useEffect)((()=>{d.current=0,c(!0)}),[c]),a().createElement(R.ZU.Provider,{value:m},a().createElement(S.ZP,{value:"track-list"},a().createElement("div",{ref:s},a().createElement(W.C,{onReachBottom:c,triggerOnInitialLoad:!0},l.items.map((({episode:t,uid:i},l)=>a().createElement("div",{className:B,key:`${l}${i}`},a().createElement("hr",{className:$,"aria-hidden":!0}),a().createElement(_,{key:`${t.uri}/${l}`,index:l,uid:i,episode:t,show:e,usePlayContextItem:n}))))))))}));var H=t(44887),q=t(7469),Q=t(42781);const K={container:"SpVoh9vvBN0kIwzfCiBh",isActive:"nsGHaEmn310z9W4RMbb8",title:"PfYVlZzroXSurDmS_kxY",main:"kCT99_BcJQtW47mEfVF6",titleContainer:"gmDgEbPyRXNixmjYAT9f",duration:"itbbweiDUhLIrwEjSRWv",trailerContainer:"XlZGcb86bItwlMPQ2jOf",image:"VGTtqfOlX2jIbpff6mPP",imageContainer:"aexqooSgfdW95poEaxjH",playButton:"Fui2wGupk4F1Khigbrhj",entityImageLarge:"jWcvSz47NFpbLjnkFT1O",entityImageSmall:"Oo6MP8F01W5uGlnw8dag"};var J=t(55911),ee=t(94184),ne=t.n(ee),te=t(6695),ie=t(95775);let ae;!function(e){e.SMALL="small",e.LARGE="large"}(ae||(ae={}));const le=({images:e,title:n,contentRating:t,duration:i,moreButton:l,onClick:r,onContextMenu:d,onTouchStart:s,onTouchEnd:m,isPlaying:c,isActive:u,size:k,className:p})=>{const y=k===ae.LARGE?J.qE.md:J.qE.sm,{badges:S}=(0,b.r)({contentRating:t});return a().createElement("div",{"data-testid":"trailer-component",className:ne()(K.container,p,{[K.isActive]:u}),onContextMenu:d,onTouchStart:s,onTouchEnd:m},a().createElement("div",{className:K.main},a().createElement("div",{className:K.imageContainer},a().createElement(H.O,{type:Q.p.EPISODE,title:n,className:ne()(K.image,{[K.entityImageSmall]:k===ae.SMALL,[K.entityImageLarge]:k===ae.LARGE}),size:q.m$.SIZE_56,images:e,shape:H.K.ROUNDED_CORNERS}),a().createElement("div",{className:K.playButton},a().createElement(J.JM,{"data-testid":"trailer-play-button",version:J.ul.transparent,size:y,isPlaying:c,onClick:r}))),a().createElement("div",{className:K.metadata},a().createElement("div",{className:K.titleContainer},a().createElement(v.Dy,{dir:"auto",className:K.title,variant:v.$e.balladBold},n)),a().createElement("div",{className:K.trailerContainer},a().createElement(ie.V,{text:o.ag.get("track-trailer")}),S.explicit&&a().createElement(F.N,null),S.nineteen&&a().createElement(h.X,null),a().createElement(v.Dy,{dir:"auto",variant:v.$e.mesto},a().createElement(te.nL,{durationMs:i}))))),l)};var re=t(86514),oe=t(43620),de=t(95289);const se=a().memo((e=>{const{uri:n}=e,{sortParamMap:t,getSortParam:l,setSortParam:r}=(0,Z.uM)(n),o=l(),d=Array.from(t.values()),s=Array.from(t.keys()),m=(0,i.useCallback)((e=>{const n=s.find((n=>{var i;return(null===(i=t.get(n))||void 0===i?void 0:i.key)===e}));n&&r(n)}),[r,s,t]);if(!t.size||!o)return null;const c=Array.from(t.keys()).find((e=>e.field===o.field&&e.order===o.order)),u=t.get(c);return a().createElement(de.A,{options:d,onSelect:e=>m(e),selected:u})}));var me=t(98778),ce=t(17231),ue=t(44503),ke=t(67892),ve=t(84242),pe=t(99995),ye=t(4383),Se=t(98984),ge=t(52200);const Ne={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryShowWeb"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataWeb"}},{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"fileId"}},{kind:"Field",name:{kind:"Name",value:"externallyHosted"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPosition"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"podcastMetadataWeb"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"following"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"trailer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"fileId"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"externallyHosted"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}}]}},...ge.r.definitions,...ge.P.definitions]};var Ee=t(88522),fe=t(70369);const be="nLNTsyonBwoRIzAv1AME",Fe="E4I5I7G2CfW32hLWZaqE";var he=t(92851);const Ce=({title:e,uri:n,className:t})=>{const i=(0,he.$)(n);return a().createElement(ke.r,{"aria-label":e,className:ne()(Fe,t),to:i},a().createElement(v.Dy,{dir:"auto",variant:v.$e.mestoBold},e))};function Pe(e){return!!e.uri&&!!e.title}const we=({topics:e})=>a().createElement("div",{className:be},e.filter(Pe).map((e=>a().createElement(Ce,{key:e.uri,title:e.title,uri:e.uri})))),Ie="all-episodes",De=a().memo((e=>{const{uri:n}=e,{filterParamMap:t,getFilterParams:l,setFilterParams:r}=(0,Z.uM)(n),d=l(),s=Array.from(t.values());s.unshift({key:Ie,value:o.ag.get("mwp.podcast.all.episodes")});const m=Array.from(t.keys()),c=(0,i.useCallback)((e=>{if(e===Ie)r([]);else{const n=m.find((n=>{var i;return(null===(i=t.get(n))||void 0===i?void 0:i.key)===e}));n&&r([n])}}),[r,m,t]);if(!t.size||!m)return null;let u=s[0];const k=Array.from(t.entries()).filter((e=>null==d?void 0:d.some((n=>n.field===e[0].field&&n.operator===e[0].operator))));return k.length>0&&(u=k[0][1]),a().createElement(de.A,{options:s,onSelect:e=>c(e),selected:u,variant:v.Dy.balladBold,color:"var(--spice-text)"})}));var Ae=t(42273),Oe=t(30947),Me=t(59482),Re=t(72907),xe=t(51775);const Te=(0,i.lazy)((()=>t.e(381).then(t.bind(t,18381))));function Ue(e){return(0,ce.W6)(ue.$f)?a().createElement(i.Suspense,{fallback:!0},a().createElement(Te,e)):null}const ze=e=>{var n,t,r,p,y,S,g;const{uri:N}=e,E=(0,m.o)(),f=(0,ce.W6)(ue.Cz),b=!(0,c.k)(),F=(0,M.g)(),[h,C]=(0,ye.Z)(N),P=(w={uri:N,offset:0,limit:10},I={cacheTime:15*Se.y},(0,Se.a)(Ne,w,I));var w,I;const D="Podcast"===(null===(n=P.data)||void 0===n||null===(t=n.podcastUnion)||void 0===t?void 0:t.__typename)?null===(r=P.data)||void 0===r?void 0:r.podcastUnion:void 0,{canSort:R,canFilter:U}=(0,Z.uM)(N),{playerSort:j,playerFilter:L}=(0,Z.x3)(N),[_,W]=(0,i.useState)([]),[$,B]=(0,i.useState)("");(0,i.useEffect)((()=>{var e,n;const t=(0,Ee.l)((null==D||null===(e=D.coverArt)||void 0===e?void 0:e.sources)||[])||[];W(t),B((null==t||null===(n=t[0])||void 0===n?void 0:n.url)||"")}),[null==D?void 0:D.coverArt]);const[V,G]=(0,i.useState)([]);(0,i.useEffect)((()=>{var e,n;const t=(0,Ee.l)((null==D||null===(e=D.trailer)||void 0===e||null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[]);G(t)}),[null==D||null===(p=D.trailer)||void 0===p||null===(y=p.coverArt)||void 0===y?void 0:y.sources]);const X=(0,oe.Z)($||null),{usePlayContextItem:H}=(0,ve.n)({uri:N,metadata:{[pe.sb.SORTING_CRITERIA]:j,[pe.sb.FILTERING_PREDICATE]:L}},{featureIdentifier:"show"}),q=(null==D?void 0:D.trailer)||null,{isActive:K,isPlaying:J,togglePlay:ee}=H({uri:(null==q?void 0:q.uri)||""}),ne=(0,i.useCallback)((()=>{E({targetUri:N,intent:h?"unsave":"save",type:"click"}),C(!h)}),[E,N,h,C]),te=(0,i.useCallback)((()=>{E({intent:"expand-description",type:"click"})}),[E]),ie=(0,z.s)(q,D),de=(0,i.useCallback)((()=>{null!=q&&q.uri&&(F?ie():(E({targetUri:q.uri,intent:J?"play":"pause",type:"click"}),ee()))}),[ie,F,J,E,ee,null==q?void 0:q.uri]),ge=(0,i.useMemo)((()=>{var e;return{title:(null==D?void 0:D.name)||"",subtitle:(null==D||null===(e=D.publisher)||void 0===e?void 0:e.name)||"",images:_||[],type:Q.p.SHOW,displayType:"SHOW"===(null==D?void 0:D.type)?o.ag.get("type.show"):o.ag.get("type.podcast")}}),[D,_]),{isXSOnly:be,isSMOnly:Fe}=(0,xe.e)(),he=be||Fe;if(!D)return a().createElement(u.h,{errorMessage:o.ag.get("error.not_found.title.podcast")});const Ce=(null==D||null===(S=D.topics)||void 0===S?void 0:S.items)||[],Pe=Ce.length>0,Ie=(null==D?void 0:D.description)||f&&(null==D?void 0:D.htmlDescription),Te=Ie||Pe;return a().createElement("section",{className:l.Z.ShowPage},a().createElement(fe.$,null,o.ag.get("podcasts.show.seo.title",{name:D.name})),a().createElement(Ae.gF,{backgroundColor:X},a().createElement(Me.W,null,a().createElement(Re.i,{text:ge.title,dragUri:N,dragLabel:ge.title})),a().createElement("div",{className:l.Z.imageContainer},a().createElement(A._,{menu:a().createElement(re.M,{uri:N})},a().createElement(Ae.Oe,{loading:"eager",name:ge.title,images:ge.images,placeholderType:"show",shape:Ae.Kc.ROUNDED_CORNERS}))),a().createElement(Ae.sP,null,a().createElement(Ae.dy,{small:!0,uppercase:!0},"SHOW"===(null==D?void 0:D.type)?o.ag.get("type.show"):o.ag.get("type.podcast")),a().createElement(A._,{menu:a().createElement(re.M,{uri:N})},a().createElement(Ae.xd,{dragUri:N,dragLabel:ge.title},a().createElement("span",{"data-testid":"show-title"},ge.title))),a().createElement(Ae.dy,{large:!he,medium:he,bold:!0},ge.subtitle))),a().createElement(Oe.o,{backgroundColor:X},a().createElement(Oe.F,null,a().createElement(me.r,{key:"follow-button"},a().createElement(s.e,{isFollowing:h,onClick:ne,disabled:b})),a().createElement(T.y,{menu:a().createElement(re.M,{uri:N})},a().createElement(x.z,{label:o.ag.get("more.label.context",D.name)})))),a().createElement("div",{className:l.Z.ShowContent},a().createElement("div",{className:l.Z.metadata},Te&&a().createElement(a().Fragment,null,a().createElement(v.Dy,{as:"h3",variant:v.$e.canon,color:"var(--spice-text)",className:l.Z.sectionTitle},o.ag.get("artist.about")),Ie&&a().createElement(k.o,{maxLines:4,content:((null==D?void 0:D.description)||"").trim(),onExpanded:te,htmlContent:f&&null!=D&&D.htmlDescription?null==D?void 0:D.htmlDescription:void 0,LinkComponent:ke.Z}),Pe&&a().createElement(we,{topics:Ce||[]})),a().createElement(Ue,e),q&&a().createElement(A._,{menu:a().createElement(O.k,{uri:q.uri,showUri:null==D?void 0:D.uri,sharingInfo:q.sharingInfo})},a().createElement(le,{className:l.Z.trailer,images:V,title:q.name,duration:q.duration.totalMilliseconds,moreButton:a().createElement(T.y,{menu:a().createElement(O.k,{uri:q.uri,sharingInfo:q.sharingInfo,showUri:null==D?void 0:D.uri})},a().createElement(x.z,null)),onClick:de,isPlaying:J,isActive:K,size:ae.LARGE,contentRating:null===(g=q.contentRating)||void 0===g?void 0:g.label}))),a().createElement("div",{className:l.Z.episodes,"data-testid":"show-all-episode-list"},a().createElement("div",{className:l.Z.episodesHeader},U&&a().createElement("div",{className:l.Z.episodesFilter},a().createElement(De,{uri:N})),!U&&a().createElement(v.Dy,{as:"h3",variant:v.$e.canon,color:"var(--spice-text)",className:l.Z.sectionTitle},o.ag.get("mwp.podcast.all.episodes")),R&&a().createElement("div",{className:l.Z.episodesSort},a().createElement(se,{uri:N}))),a().createElement(Y,{show:D,usePlayContextItem:H})),a().createElement(d.k,{copyrights:[]})))},je=a().memo((()=>{const{showId:e}=(0,r.UO)(),n=`spotify:show:${e}`;return a().createElement(i.Suspense,{fallback:null},a().createElement(ze,{uri:n,showId:e}))})),Le=je},95289:(e,n,t)=>{t.d(n,{A:()=>N});var i=t(67294),a=t.n(i),l=t(94184),r=t.n(l);const o="w6j_vX6SF5IxSXrrkYw5",d="CbHJjxYxldG7uUPMYMaP";var s=t(76343),m=t(26115),c=t(74594),u=t(20246),k=t(30005),v=t(21691),p=t(6577),y=t(62012),S=t(28248);const g=({selected:e,onSelect:n,options:t,sortOrder:i})=>{let l;return i&&(i===S.kn.ASC||i===S.kn.SECONDARY_ASC?l=a().createElement(p.c,{iconSize:16}):i!==S.kn.DESC&&i!==S.kn.SECONDARY_DESC||(l=a().createElement(y.e,{iconSize:16}))),a().createElement(k.v,null,t.map((({key:t,value:i})=>a().createElement(v.s,{role:"menuitemradio","aria-checked":t===e.key&&!l,key:t,onClick:()=>n(t),icon:t===e.key&&l},a().createElement(s.Dy,{variant:s.Dy.mesto},i)))))};const N=({options:e,selected:n,onSelect:t,isSelectionChanged:i,sortOrder:l,variant:k=s.Dy.mesto,color:v})=>{const[p]=e;n||(n=p);const y=i?i(n):n!==p;return a().createElement(u.y,{renderInline:!0,menu:a().createElement(g,{selected:n,options:e,onSelect:t,sortOrder:l})},((e,t,i)=>a().createElement("button",{className:r()(o,{[d]:y}),onClick:t,ref:i,type:"button"},a().createElement(s.Dy,{variant:k,color:v},n.value),e?a().createElement(m.q,{iconSize:16}):a().createElement(c.m,{iconSize:16}))))}},94233:(e,n,t)=>{t.d(n,{k:()=>o});var i=t(67294),a=t.n(i),l=t(76343);const r="rTMkDBDp47Eo12ZEQv4U",o=({copyrights:e,courtesyLine:n})=>{const t=(e||[]).map(((e,n)=>{const t=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(Â©\s+)/,"").replace(/^(â\s+)/,"");let i;return i="C"===e.type?"Â©":"P"===e.type?"â":`(${e.type})`,a().createElement(l.Dy,{as:"p",variant:l.Dy.finale,key:n,dir:"auto"},`${i} ${t}`)}));return n&&t.unshift(a().createElement(l.Dy,{as:"p",variant:l.Dy.finale,key:t.length,dir:"auto"},n)),a().createElement("div",{className:r},t)}},14535:(e,n,t)=>{t.d(n,{e:()=>c});var i=t(67294),a=t.n(i),l=t(20657),r=t(94184),o=t.n(r);const d="aAr9nYtPsG7P2LRzciXc",s="fBTYgGyvIbHizHIj7AAX",m="oUzIIkcyBdRs7hrwbwIo",c=a().memo((({isFollowing:e,onClick:n,disabled:t=!1})=>{const i=e?l.ag.get("following"):l.ag.get("follow");return a().createElement("button",{type:"button",className:o()(d,{[s]:e,[m]:t}),onClick:n},i)}))}}]);
//# sourceMappingURL=xpui-routes-show.js.map