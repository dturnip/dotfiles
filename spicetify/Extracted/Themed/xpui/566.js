"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[566],{70369:(e,t,n)=>{n.d(t,{$:()=>r.$});var r=n(22578)},79834:(e,t,n)=>{n.d(t,{c:()=>we});var r=n(59713),l=n.n(r),a=n(67294),c=n.n(a),o=n(21794),i=n(1150),u=n(42922),s=n(56661),m=n(5001),d=n(94184),E=n.n(d);const f="rPV8BmHZXaGIGT2HwvBB",p="nlOU1unbFAd7ZHyeSMTH",g="jb9xD5ECTqKFK02qe3HZ",y="Z35BWOA10YGn5uc9YgAp",h="g3f_cI5usQX7ZOQyDtA9",v="jvWzgRWM_y_9FFTYRCcB",b="zXwER4Lsqq_e7fVVaPkZ",k="WWDxafTPs4AgThdcX5jN",w="CKxS_0I5yf3i15WAjzvE",C="Tzzq1pG_inwo_oSOdyjb",P="EzRmGRncgnv1zFgF4dqE",O="bPmmKmSPLKMhtJSaUJRX",T="Kcb74zm1aMqGfPxTwO5s",_="s9c9x_mJq197U2hBzGtV";var I=n(76343),L=n(50114),N=n(17213),S=n(13218),A=n(63926),j=n(73012),x=n(69559),D=n(67154),B=n.n(D),M=n(20657),R=n(69518),U=n.n(R),W=n(28342),z=n(91362),F=n(68156),G=n(37077),q=n(18261),V=n(35410),H=n(61202),J=n(56802),Y=n(18171),K=n(55911),X=n(46245),Z=n(67892),Q=n(49961),$=n(80418);const ee=c().memo((({images:e=[],fallbackIcon:t=W.e})=>{const n=(0,Q.X)(e),r=null!=n&&n.url?b:w;return c().createElement("div",{className:v},c().createElement("div",{className:r},c().createElement($.E,{className:k,src:null==n?void 0:n.url,loading:"lazy",testid:"shortcut-image"},c().createElement(t,{"aria-hidden":!0}))))}));var te=n(70296),ne=n(84242),re=n(34325),le=n(18061),ae=n(8247);const ce=c().memo((({item:e,fallbackIcon:t,showPlayButton:n,onContextMenu:r=(()=>{}),onTouchStart:l=(()=>{}),onTouchEnd:o=(()=>{})})=>{var i,u;const s=(0,H.k6)(),m=(0,J.o)(),{setColorFromUri:d,resetColor:f}=(0,te.WQ)(),p=(0,re.G3)(e.uri,e.release_date,null===(i=e.resume_point)||void 0===i?void 0:i.resume_position_ms,null===(u=e.resume_point)||void 0===u?void 0:u.fully_played),{isPlaying:v,togglePlay:b}=(0,ne.n)({uri:e.uri},{featureIdentifier:"home",referrerIdentifier:"home"});function k(){m({targetUri:e.uri,intent:v?"pause":"play",type:"click"}),b()}const w=(0,a.useCallback)((()=>{m({targetUri:e.uri,intent:"navigate",type:"click"}),s.push(U().from(e.uri).toURLPath(!0))}),[s,e.uri,m]),L=(0,a.useCallback)((()=>{d(e.uri)}),[e.uri,d]);return c().createElement("div",{className:y,onContextMenu:r,onTouchStart:l,onTouchEnd:o,onMouseEnter:L,onMouseLeave:f},c().createElement(Y.Z,{uri:e.uri,text:e.name,extraClassName:h},c().createElement(ee,{images:e.images,fallbackIcon:t}),c().createElement("div",{className:C},c().createElement(Z.r,{to:e.uri,onClick:w,title:e.name},c().createElement(I.Dy.p,{variant:I.Dy.balladBold,className:P},e.name)),p&&c().createElement(re.Rd,{className:O}),n&&c().createElement("div",{className:E()(T,{[_]:v})},c().createElement(le.F,{property:ae.iY,renderOldExperience:()=>c().createElement(K.JM,{size:K.qE.sm,isPlaying:v,onClick:k}),renderNewExperience:()=>c().createElement(X.fh,{isPlaying:v,onClick:k})}))),c().createElement("div",{onClick:w,className:g})))}));var oe=n(4232),ie=n(80507),ue=n(86514),se=n(25988);const me=c().memo((e=>U().isCollection(e.item.uri)?c().createElement(ce,B()({},e,{fallbackIcon:W.e})):c().createElement(q._,{menu:c().createElement(V.X,{uri:e.item.uri})},c().createElement(ce,B()({},e,{fallbackIcon:W.e}))))),de=c().memo((e=>c().createElement(q._,{menu:c().createElement(oe.Y,{uri:e.item.uri})},c().createElement(ce,B()({},e,{fallbackIcon:z.u}))))),Ee=c().memo((e=>c().createElement(q._,{menu:c().createElement(ie.m,{uri:e.item.uri})},c().createElement(ce,B()({},e,{fallbackIcon:F.i}))))),fe=c().memo((e=>c().createElement(q._,{menu:c().createElement(ue.M,{uri:e.item.uri})},c().createElement(ce,B()({},e,{fallbackIcon:G.n,showPlayButton:!1}))))),pe=c().memo((e=>c().createElement(q._,{menu:c().createElement(se.k,{uri:e.item.uri})},c().createElement(ce,B()({},e,{fallbackIcon:G.n,showPlayButton:!1})))));var ge=n(4236);const ye=c().memo((({tagline:e,items:t})=>{const{fetchMultipleColors:n}=(0,te.WQ)(),[r,l]=(0,a.useState)(270),o=!(0,ge.k)(),i=(0,a.useRef)(null),u=(()=>{const e=(new Date).getHours();let t=M.ag.get("home.evening");return e>=5&&e<12?t=M.ag.get("home.morning"):e>=12&&e<18&&(t=M.ag.get("home.afternoon")),t})(),s=(0,a.useCallback)((()=>{const e=i.current;if(null==e||!e.parentElement)return;const t=(n=e.parentElement.offsetWidth)<700?240:n>=700&&n<1400?270:300;var n;t!==r&&l(t)}),[r]);(0,x.a)((()=>{s()})),(0,a.useLayoutEffect)((()=>{s()})),(0,a.useEffect)((()=>{const e=(null==t?void 0:t.map(te.lh))||[];n(e)}),[t,n]);const m=(0,a.useCallback)(((e,n)=>{if(null==t||!t.length)return null;const r=n>=270;return c().createElement(c().Fragment,null,t.filter(((t,n)=>n<2*e)).map(((e,t)=>{const n=function(e){const t=(U().from(e)||{}).type;switch(t){case U().Type.ARTIST:return Ee;case U().Type.ALBUM:case U().Type.COLLECTION_ALBUM:return de;case U().Type.PLAYLIST:case U().Type.PLAYLIST_V2:return me;case U().Type.SHOW:return fe;case U().Type.EPISODE:return pe;case U().Type.COLLECTION:return me;default:return console.warn(`Unable to resolve entity shortcut from ${e} of type "${t||"unknown"}"`),fe}}(e.uri);return c().createElement(n,{key:e.id,item:e,showPlayButton:r,shouldSetBackgroundColor:0===t})})))}),[t]);return o||null==t||!t.length?null:c().createElement("section",{className:f,"aria-label":u,ref:i},c().createElement(S.r,{title:u,titleVariant:I.Dy.alto,tagline:e}),c().createElement(A.T,{className:E()(p),columnAware:!0,render:m,minimumColumnWidth:r,rowGap:j.o78}))})),he=(0,L.P)(ye,(()=>null),(e=>(0,N.v)({from:"HomeShortcutsGrid",error:e})));var ve=n(19480);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const we=({spaces:e,viewName:t,viewId:n,isAnonymous:r})=>{const l=(0,a.useCallback)((e=>{const t=((e,t)=>{let{uri:n}=e;return e.href.includes("https://api.spotify.com/v1/views/")&&(n=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),n.endsWith("-page")||(n+="-page"),"hub-browse-grid"===t&&(n=n.replace(":view:",":genre:"))),n})(e,n),r=(0,s.U)(t);return c().createElement(r,{key:e.href,entity:ke(ke({},e),{},{uri:t})})}),[n]),d=(0,a.useCallback)(((e,t)=>{const n=(0,s.U)(e.uri);return c().createElement(u.JL,{key:e.uri||t,value:"card",index:t},c().createElement(n,{entity:e}))}),[]),E=(0,a.useCallback)(((e,t)=>"link"===e.type?l(e):d(e,t)),[d,l]),f=(0,a.useCallback)((e=>!((e=>"HEADER"===e.rendering)(e)||0===e.content.total||r&&"uniquely-yours-shelf"===e.id)),[r]);return e&&0!==e.length?e[0].content?c().createElement(c().Fragment,null,e.filter(f).map(((e,t)=>{const r=e.content&&(0,o.p)((0,o.S)(e.href));return e.id===i.RECENTLY_PLAYED_VIEW_ID||e.id===m.uK?c().createElement(u.JL,{value:"headered-grid",index:t,key:e.id},c().createElement(i.RecentlyPlayed,{showAll:!1})):"shortcuts"===e.id?c().createElement(u.JL,{value:"headered-grid",index:t,key:e.id},c().createElement(he,{items:e.content.items,title:e.name,tagline:e.tag_line})):c().createElement(u.JL,{value:"headered-grid",index:t,key:e.id},c().createElement(ve.P,{total:e.content.total,seeAllUri:r,pageId:n,title:e.name,tagline:e.tag_line||void 0},e.content.items.map(E)))}))):c().createElement(u.JL,{value:"headered-grid"},c().createElement(ve.P,{showAll:!0,title:t,total:(null==e?void 0:e.length)||0},null==e?void 0:e.map(E))):null}},35808:(e,t,n)=>{n.d(t,{P:()=>i});var r=n(94321),l=n(29255),a=n(67294),c=n(65858),o=n(43088);const i=e=>{const t=(0,o.n)(),[n,i]=(0,a.useState)((()=>t.getViewFromCache(e))),u=(0,c.v9)(r.r),{locale:s,overrides:m}=(0,c.v9)(l.Gg),d=(null==m?void 0:m.country)||u,E=(null==m?void 0:m.locale)||s;(0,a.useEffect)((()=>{t.getView(e,{country:d,locale:E}).then((e=>{i(e)}))}),[d,E,e,t]);return{view:n,getNextPage:(0,a.useCallback)((()=>{t.getMore(e).then((e=>{e&&i(e)}))}),[e,t]),refreshContents:(0,a.useCallback)((()=>{t.getView(e,{country:d,locale:E,ignoreCache:!0}).then((e=>{i(e)}))}),[d,E,e,t])}}}}]);
//# sourceMappingURL=566.js.map